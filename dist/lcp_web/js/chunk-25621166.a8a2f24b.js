(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-25621166"],{"09ac":function(t,e,a){"use strict";a("abee")},"245f":function(t,e,a){"use strict";a("82a4")},"82a4":function(t,e,a){},"836f":function(t,e,a){"use strict";var r=(a("7f7f"),{computed:{routeName:function(){return this.$route.name}},methods:{onClickSubmitWorkOrderButton:function(){this.$router.push({path:"/upgrade/work-order"})},onClickBackToQualificationManagementButton:function(){this.$router.push({name:"Qualification"})}}}),n=(a("09ac"),a("2877")),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"submit-success"},[a("i",{staticClass:"el-icon-success normalColor"}),a("p",{staticClass:"title"},[t._v("提交成功")]),"ApplyIsvQualification"===t.routeName||"ApplyPartnerQualification"===t.routeName?a("div",{staticClass:"tip"},[t._v(" 资质申请长时间未通过或被驳回，您可通过"),a("el-button",{attrs:{type:"text"},on:{click:t.onClickSubmitWorkOrderButton}},[t._v("提交工单")]),t._v("的方式与平台联系 ")],1):"ApplySupplierQualification"===t.routeName?a("p",{staticClass:"tip"},[t._v(" 自研商家资质无需人工审核，系统自动审批通过 ")]):t._e(),a("el-button",{attrs:{type:"primary"},on:{click:t.onClickBackToQualificationManagementButton}},[t._v("返回资质管理")])],1)}),[],!1,null,"2c1731a7",null);e.a=i.exports},abee:function(t,e,a){},faba:function(t,e,a){"use strict";a.r(e);var r=(a("7f7f"),a("836f")),n=a("b775"),i=a("ed08"),o={name:"Partner",components:{SubmitSuccess:r.a},data:function(){return{menuHeader:{statusTable:["未认证","审核中","未通过","已认证"],statusColor:["initBtnColor","updateBtnColor","unknownBtnColor","normalBtnColor"]},partnerForm:{id:"",cooperationType:1,referrerMail:"",cooperationContent:""},isSubmitSuccess:!1,status:0,updateTime:"",rules:{cooperationType:[{required:!0}],referrerMail:[{pattern:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,message:"推荐人邮箱格式不正确"},{min:1,max:50,message:"长度超过限制，长度在 1到 50 个字符",trigger:"blur"}],cooperationContent:[{required:!0,message:"合作内容不能为空",trigger:"blur"},{min:1,max:500,message:"长度超过限制，长度在 1到 500 个字符",trigger:"blur"}]},submitButtonLoading:!1,submitButtonDebounceTimer:null}},computed:{computeStatusText:function(){return this.menuHeader.statusTable[this.status]},computeStatusClass:function(){return this.menuHeader.statusColor[this.status]}},methods:{getPartnerAuthData:function(){var t=this;Object(n.a)({url:"/supplierIsv/queryPartner",method:"get"}).then((function(e){if(1!==e.data.status&&3!==e.data.status||t.isSubmitSuccess){var a=e.data;0!==a.status&&(t.partnerForm.id=a.id,t.partnerForm.cooperationType=a.cooperationType,t.partnerForm.name=a.name,t.partnerForm.cooperationContent=a.cooperationContent,t.partnerForm.referrerMail=a.referrerMail,t.updateTime=a.updateTime,t.status=a.status)}else t.$router.push({path:"/"})})).catch((function(t){}))},onClickSubmitButton:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;clearTimeout(e.submitButtonDebounceTimer),e.submitButtonDebounceTimer=setTimeout((function(){null!==e.partnerForm.id&&""!==e.partnerForm.id?e.onUpdatePartnerData():e.onSavePartnerData()}),300)}))},onSavePartnerData:function(){var t=this;this.submitButtonLoading=!0;this.addressForm={},this.submitForm=Object.assign(this.partnerForm,this.addressForm);var e=this.submitForm;Object(n.a)({url:"/supplierIsv/savePartner",method:"post",headers:{"Content-Type":"application/json"},data:e}).then((function(e){t.isSubmitSuccess=!0,t.status=1,t.updateTime=new Date,t.submitButtonLoading=!1})).catch((function(e){t.submitButtonLoading=!1}))},onUpdatePartnerData:function(){var t=this;this.submitButtonLoading=!0;this.addressForm={},this.submitForm=Object.assign(this.partnerForm,this.addressForm);var e=this.submitForm;Object(n.a)({url:"/supplierIsv/updatePartner",method:"post",headers:{"Content-Type":"application/json"},data:e}).then((function(e){t.isSubmitSuccess=!0,t.status=1,t.updateTime=new Date,t.submitButtonLoading=!1})).catch((function(e){t.submitButtonLoading=!1}))},isMainAccount:function(){var t=this;Object(n.a)({url:"/user/getUserRole",method:"get"}).then((function(e){1===e.data?t.getPartnerAuthData():t.$router.push({path:"/qualificationManagement"})})).catch((function(t){}))}},created:function(){this.isMainAccount()},filters:{parseTimefilter:function(t,e){return t?Object(i.c)(t,e):""}}},s=o,u=(a("245f"),a("2877")),c=Object(u.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"partner"},[a("div",{staticClass:"tit-view"},[a("h2",{staticClass:"big-tit"},[a("span",{staticStyle:{"font-weight":"600"}},[t._v("合作伙伴资质")]),a("div",{staticClass:"com-tag",class:t.computeStatusClass},[t._v(" "+t._s(t.computeStatusText)+" ")])]),""!==t.updateTime?a("p",{staticClass:"tip"},[t._v(" 认证状态更新于 "+t._s(t._f("parseTimefilter")(t.updateTime,"{y}-{m}-{d} {h}:{i}"))+" ")]):a("p",{staticClass:"tip"},[t._v(" 资质认证过程中遇到问题，您可以通过"),a("a",{attrs:{href:"https://cloud.jdl.com/admin/#/upgrade/work-order",target:"_blank"}},[t._v("提交工单")]),t._v("的方式获得帮助 ")])]),a("div",{staticClass:"container"},[t.isSubmitSuccess?t._e():a("div",[t._m(0),a("el-form",{ref:"partnerForm",staticClass:"form",attrs:{"label-width":"140px",model:t.partnerForm,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[a("h2",{staticClass:"title"},[t._v("企业信息")])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"合作类型",prop:"cooperationType"}},[a("el-radio-group",{model:{value:t.partnerForm.cooperationType,callback:function(e){t.$set(t.partnerForm,"cooperationType",e)},expression:"partnerForm.cooperationType"}},[a("el-radio",{attrs:{label:1}},[t._v("供应商")]),a("el-radio",{attrs:{label:2}},[t._v("分销商")]),a("el-radio",{attrs:{label:3}},[t._v("其他")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[a("h2",{staticClass:"title"},[t._v("合作信息")])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"注册推荐人邮箱",prop:"referrerMail"}},[a("el-input",{attrs:{placeholder:"请填写与您对接的京东员工邮箱"},model:{value:t.partnerForm.referrerMail,callback:function(e){t.$set(t.partnerForm,"referrerMail",e)},expression:"partnerForm.referrerMail"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"合作内容",prop:"cooperationContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写合作内容，长度不超过500",rows:2,maxlength:"500","show-word-limit":""},model:{value:t.partnerForm.cooperationContent,callback:function(e){t.$set(t.partnerForm,"cooperationContent",e)},expression:"partnerForm.cooperationContent"}})],1)],1)],1),a("div",{staticClass:"buttonWrapper"},[a("el-button",{attrs:{loading:t.submitButtonLoading,type:"primary"},on:{click:function(e){return t.onClickSubmitButton("partnerForm")}}},[t._v("提交 ")])],1)],1)],1),t.isSubmitSuccess?a("SubmitSuccess"):t._e()],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line-box"},[e("span",{staticClass:"line3"})])}],!1,null,"5df2255a",null);e.default=c.exports}}]);