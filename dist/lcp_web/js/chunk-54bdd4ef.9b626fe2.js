(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-54bdd4ef"],{"09ac":function(t,e,s){"use strict";s("abee")},"31eb":function(t,e,s){"use strict";s.r(e);var i=s("836f"),a=s("b775"),o=s("ed08"),u=s("98ab"),n={name:"Supplier",components:{SubmitSuccess:i.a,Alert:u.a},computed:{computeStatusText:function(){return this.menuHeader.statusTable[this.status]},computeStatusClass:function(){return this.menuHeader.statusColor[this.status]},placeholder:function(){return{eclp:"商家编码/配送编码/青龙业主号/月结编码 示例: 010KXXXXXX",division:"示例：EBU441XXXXXXXXXX",cloudWarehouse:"示例：KH2000000XXXX",servicePlus:"厂家编码 示例：01058554XXXX"}[this.type]}},data:function(){var t=this;return{menuHeader:{statusTable:["未认证","审核中","未通过","已认证"],statusColor:["initBtnColor","updateBtnColor","unknownBtnColor","normalBtnColor"]},supplierForm:{id:"",BusinessNo:""},rules:{BusinessNo:[{required:!0,validator:function(e,s,i){t.errorMessage="",null===s||""===s?i(new Error("请输入")):i()}}]},isSubmitSuccess:!1,status:0,updateTime:"",errorMessage:"",options:[{label:"月结编码",description:"(适用于快递、快运、同城速配等)",value:"eclp"},{label:"事业部编码",description:"(适用于快运、大件、仓配等)",value:"division"},{label:"客户编码",description:"(适用于云仓)",value:"cloudWarehouse"},{label:"服务编码",description:"(适用于服务+)",value:"servicePlus"}],type:"eclp",submitButtonLoading:!1,submitButtonDebounceTimer:null}},methods:{getSupplierMessage:function(){var t=this;Object(a.a)({url:"/supplierIsv/getSellerAuth",method:"get"}).then((function(e){1!==e.data.status&&3!==e.data.status||t.isSubmitSuccess?null!==e.data.eclpBusinessNo&&void 0!==e.data.eclpBusinessNo&&(t.supplierForm.id=e.data.id,t.supplierForm.BusinessNo=e.data.eclpBusinessNo,t.status=e.data.status,t.type=e.data.sellerType,t.updateTime=e.data.updateTime):t.$router.push("/")})).catch((function(t){}))},onClickSubmitButton:function(){var t=this;this.$refs.supplierForm.validate((function(e){if(!e)return!1;clearTimeout(t.submitButtonDebounceTimer),t.submitButtonDebounceTimer=setTimeout((function(){t.submitButtonLoading=!0;Object(a.a)({url:"/supplierIsv/saveSeller",method:"post",data:{id:t.supplierForm.id,eclpBusinessNo:t.supplierForm.BusinessNo,sellerType:"division"===t.type?"eclp":t.type}}).then((function(e){if(2e4!==e.code)return t.$message.error(e.message),t.submitButtonLoading=!1,!1;t.status=1,t.updateTime=new Date,t.$router.push({path:"/qualificationManagement"}),t.submitButtonLoading=!1})).catch((function(e){t.submitButtonLoading=!1}))}),300)}))},isMainAccount:function(){var t=this;Object(a.a)({url:"/user/getUserRole",method:"get"}).then((function(e){1===e.data?t.getSupplierMessage():t.$router.push({path:"/qualificationManagement"})})).catch((function(t){}))}},created:function(){this.isMainAccount()},mounted:function(){},filters:{parseTimefilter:function(t,e){return t?Object(o.c)(t,e):""}}},l=n,r=(s("aac0"),s("2877")),c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"supplier"},[s("div",{staticClass:"tit-view"},[s("h2",{staticClass:"big-tit"},[s("span",{staticStyle:{"font-weight":"600"}},[t._v("自研商家资质")]),s("div",{staticClass:"com-tag",class:t.computeStatusClass},[t._v(" "+t._s(t.computeStatusText)+" ")])]),""!==t.updateTime?s("p",{staticClass:"tip"},[t._v(" 认证状态更新于 "+t._s(t._f("parseTimefilter")(t.updateTime,"{y}-{m}-{d} {h}:{i}"))+" ")]):s("p",{staticClass:"tip"},[t._v(" 资质认证过程中遇到问题，您可以通过"),s("a",{attrs:{href:"https://cloud.jdl.com/admin/#/upgrade/work-order",target:"_blank"}},[t._v("提交工单")]),t._v("的方式获得帮助 ")])]),s("div",{staticClass:"container"},[t.isSubmitSuccess?t._e():s("Alert",{scopedSlots:t._u([{key:"title",fn:function(){return[s("p",[t._v(" 1.如无编码，您可前往jdl.com提交"),s("a",{attrs:{href:"https://www.jdl.com/ecology/cooperation",target:"_blank"}},[t._v("物流合作申请")]),t._v("，提交后会有物流销售联系您签约，签约后获得对应编码； ")]),s("p",[t._v(" 2.此处仅是身份认定，如有多个编码选择任意一个认证通过即可，接口调用时不会对此处填写的编码做校验； ")]),s("p",[t._v(" 3.编码应与签约时的公司名称匹配，如提示报错可在"),s("a",{attrs:{href:"https://cloud.jdl.com/admin/#/userBaseInfo",target:"_blank"}},[t._v("基本信息")]),t._v("中修改公司名称。 ")])]},proxy:!0}],null,!1,273090579)}),t.isSubmitSuccess?t._e():s("div",[s("el-row",{staticClass:"form-top"},[s("el-col",{attrs:{offset:6}},[s("el-form",{ref:"supplierForm",attrs:{model:t.supplierForm,rules:t.rules,"validate-on-rule-change":!1,inline:!0}},[s("el-form-item",[s("el-select",{staticStyle:{width:"120px"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.options,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[s("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),s("span",[t._v(t._s(e.description))])])})),1)],1),s("el-form-item",{attrs:{"label-width":"0px",prop:"BusinessNo",error:t.errorMessage}},[s("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:t.placeholder},model:{value:t.supplierForm.BusinessNo,callback:function(e){t.$set(t.supplierForm,"BusinessNo","string"==typeof e?e.trim():e)},expression:"supplierForm.BusinessNo"}})],1)],1)],1)],1),s("el-row",[s("el-col",{attrs:{offset:6}},[s("div",{staticStyle:{float:"left","margin-left":"230px"}},[s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{loading:t.submitButtonLoading,type:"primary"},on:{click:t.onClickSubmitButton}},[t._v("提交")])],1)])])],1)],1),t.isSubmitSuccess?s("SubmitSuccess"):t._e()],1)])])}),[],!1,null,"76014064",null);e.default=c.exports},"4f65":function(t,e,s){},"7c63":function(t,e,s){},"836f":function(t,e,s){"use strict";var i=(s("7f7f"),{computed:{routeName:function(){return this.$route.name}},methods:{onClickSubmitWorkOrderButton:function(){this.$router.push({path:"/upgrade/work-order"})},onClickBackToQualificationManagementButton:function(){this.$router.push({name:"Qualification"})}}}),a=(s("09ac"),s("2877")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"submit-success"},[s("i",{staticClass:"el-icon-success normalColor"}),s("p",{staticClass:"title"},[t._v("提交成功")]),"ApplyIsvQualification"===t.routeName||"ApplyPartnerQualification"===t.routeName?s("div",{staticClass:"tip"},[t._v(" 资质申请长时间未通过或被驳回，您可通过"),s("el-button",{attrs:{type:"text"},on:{click:t.onClickSubmitWorkOrderButton}},[t._v("提交工单")]),t._v("的方式与平台联系 ")],1):"ApplySupplierQualification"===t.routeName?s("p",{staticClass:"tip"},[t._v(" 自研商家资质无需人工审核，系统自动审批通过 ")]):t._e(),s("el-button",{attrs:{type:"primary"},on:{click:t.onClickBackToQualificationManagementButton}},[t._v("返回资质管理")])],1)}),[],!1,null,"2c1731a7",null);e.a=o.exports},8658:function(t,e,s){"use strict";s("7c63")},"98ab":function(t,e,s){"use strict";var i={name:"Alert",props:{type:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},effect:{type:String,default:"light"},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!0}}},a=(s("8658"),s("2877")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-alert",{class:{alert:!0,"alert--default":!t.type},attrs:{type:t.type,title:t.title,description:t.description,effect:t.effect,"show-icon":t.showIcon,closable:t.closable},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title")]},proxy:!0}],null,!0)},[t._t("default")],2)}),[],!1,null,"768f2856",null);e.a=o.exports},aac0:function(t,e,s){"use strict";s("4f65")},abee:function(t,e,s){}}]);