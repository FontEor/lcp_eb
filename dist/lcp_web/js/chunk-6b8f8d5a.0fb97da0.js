(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6b8f8d5a"],{1190:function(t,i,e){"use strict";e.r(i);var a=(e("c5f6"),e("c7eb")),s=(e("7f7f"),e("96cf"),e("1da1")),o=e("3d85"),n=e("1c72"),r=e("a78e"),c=e.n(r),l={name:"EditMerchant",components:{Steps:o.a},data:function(){return{titleList:["填写基本信息","填写特殊配置","完成"],active:0,basicInfoForm:{code:"",name:""},basicInfoRules:{name:[{required:!0,message:"商家名称不能为空"}],code:[{required:!0,message:"商家编码不能为空"}]},specialConfigurationForm:{},specialConfigurationRules:{},code:"",name:"",supplierId:-1}},methods:{validateNextStep:function(t){var i=this;this.$refs[t].validate((function(t){if(!t)return!1;i.active<3&&i.active++}))},previousStep:function(){this.active>0&&this.active--},updateMerchant:function(){var t=Object(s.a)(Object(a.a)().mark((function t(){var i,e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object.assign(this.basicInfoForm,this.specialConfigurationForm),t.next=3,n.a.updateMerchant(i);case 3:(e=t.sent)&&(this.code=e.data.code,this.name=e.data.name,this.active<3&&this.active++);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),echoMerchant:function(){var t=Object(s.a)(Object(a.a)().mark((function t(){var i,e,s,o,r,c,l,p,m,u,f,h,d,v;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.$route.query.partnerId,t.next=3,n.a.echoMerchant(i);case 3:(e=t.sent)&&(s=e.data,o=s.code,r=s.name,c=s.isVipWhitelist,l=s.hostDomainName,p=s.isIpWhitelist,m=s.isDomainNameCertificate,u=s.hostIp,f=s.hostRemark,h=s.vipWhitelist,d=s.vipIp,v=s.isHostDomainName,this.basicInfoForm={code:o,name:r},this.specialConfigurationForm={isHostDomainName:v,hostDomainName:l,hostIp:u,hostRemark:f,isVipWhitelist:c,vipWhitelist:h,vipIp:d,isDomainNameCertificate:m,isIpWhitelist:p});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.supplierId=Number(c.a.get("supplierId")),this.echoMerchant()}},p=l,m=(e("b378"),e("2877")),u=Object(m.a)(p,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return-1!==t.supplierId?e("el-container",[e("el-header",{staticClass:"header-info",staticStyle:{height:"80px"}},[e("div",{staticClass:"header-wrapper"},[e("div",{staticClass:"text-wrapper"},[e("div",{staticClass:"title-wrapper"},[e("p",{staticClass:"title"},[t._v("编辑商家")])])])])]),e("el-main",{staticClass:"container"},[e("Steps",{attrs:{active:t.active,titleList:t.titleList}}),e("div",{staticClass:"form-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.active,expression:"active === 0"}],staticClass:"basic-form"},[e("p",{staticClass:"step-title"},[t._v("为了更好地服务商家，请认真填写以下信息")]),e("el-form",{ref:"basicInfoForm",attrs:{model:t.basicInfoForm,rules:t.basicInfoRules,"label-width":"140px"}},[e("el-form-item",{attrs:{label:"商家编码",prop:"code"}},[e("el-input",{attrs:{disabled:"",placeholder:"请输入EDI中要使用的商家编码"},model:{value:t.basicInfoForm.code,callback:function(i){t.$set(t.basicInfoForm,"code",i)},expression:"basicInfoForm.code"}})],1),e("el-form-item",{attrs:{label:"商家名称",prop:"name"}},[e("el-input",{attrs:{placeholder:"请输入EDI中要使用的商家名称"},model:{value:t.basicInfoForm.name,callback:function(i){t.$set(t.basicInfoForm,"name","string"==typeof i?i.trim():i)},expression:"basicInfoForm.name"}})],1)],1),e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.validateNextStep("basicInfoForm")}}},[t._v("下一步")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.active,expression:"active === 1"}],staticClass:"special-configuration-form"},[e("p",{staticClass:"special-configuration-title"},[t._v(" 为了给商家提供稳定可靠的服务，请务必完善以下信息 ")]),e("el-form",{ref:"specialConfigurationForm",attrs:{model:t.specialConfigurationForm,rules:t.specialConfigurationRules,"label-width":"140px"}},[e("p",{staticClass:"special-configuration-content"},[t._v(" 1. 【商家系统】特殊配置：是否配置了京东物流网关域名host？ ")]),e("el-form-item",{attrs:{prop:"isHostDomainName"}},[e("el-radio",{attrs:{label:!0},model:{value:t.specialConfigurationForm.isHostDomainName,callback:function(i){t.$set(t.specialConfigurationForm,"isHostDomainName",i)},expression:"specialConfigurationForm.isHostDomainName"}},[t._v("是")]),e("el-radio",{attrs:{label:!1},model:{value:t.specialConfigurationForm.isHostDomainName,callback:function(i){t.$set(t.specialConfigurationForm,"isHostDomainName",i)},expression:"specialConfigurationForm.isHostDomainName"}},[t._v("否")])],1),!0===t.specialConfigurationForm.isHostDomainName?e("div",[e("el-form-item",{attrs:{label:"域名：",prop:"hostDomainName"}},[e("el-input",{attrs:{placeholder:"示例：api.jdwl.jd.local"},model:{value:t.specialConfigurationForm.hostDomainName,callback:function(i){t.$set(t.specialConfigurationForm,"hostDomainName","string"==typeof i?i.trim():i)},expression:"specialConfigurationForm.hostDomainName"}})],1),e("el-form-item",{attrs:{label:"IP：",prop:"hostIp"}},[e("el-input",{attrs:{placeholder:"示例：10.126.211.234 , 11.70.215.191, 11.60.217.127"},model:{value:t.specialConfigurationForm.hostIp,callback:function(i){t.$set(t.specialConfigurationForm,"hostIp","string"==typeof i?i.trim():i)},expression:"specialConfigurationForm.hostIp"}})],1),e("el-form-item",{attrs:{label:"备注：",prop:"hostRemark"}},[e("el-input",{attrs:{placeholder:"示例：库房是4层协议不支持域名访问，直接使用网关的实例ip"},model:{value:t.specialConfigurationForm.hostRemark,callback:function(i){t.$set(t.specialConfigurationForm,"hostRemark","string"==typeof i?i.trim():i)},expression:"specialConfigurationForm.hostRemark"}})],1)],1):t._e(),e("p",{staticClass:"special-configuration-content"},[t._v(" 2. 【商家系统】特殊配置：是否配置了京东物流网关域名VIP白名单？ ")]),e("el-form-item",{attrs:{prop:"isVipWhitelist"}},[e("el-radio",{attrs:{label:!0},model:{value:t.specialConfigurationForm.isVipWhitelist,callback:function(i){t.$set(t.specialConfigurationForm,"isVipWhitelist",i)},expression:"specialConfigurationForm.isVipWhitelist"}},[t._v("是")]),e("el-radio",{attrs:{label:!1},model:{value:t.specialConfigurationForm.isVipWhitelist,callback:function(i){t.$set(t.specialConfigurationForm,"isVipWhitelist",i)},expression:"specialConfigurationForm.isVipWhitelist"}},[t._v("否")])],1),!0===t.specialConfigurationForm.isVipWhitelist?e("div",[e("el-form-item",{attrs:{label:"域名：",prop:"vipWhitelist"}},[e("el-input",{attrs:{placeholder:"示例：api.jdwl.jd.local"},model:{value:t.specialConfigurationForm.vipWhitelist,callback:function(i){t.$set(t.specialConfigurationForm,"vipWhitelist","string"==typeof i?i.trim():i)},expression:"specialConfigurationForm.vipWhitelist"}})],1),e("el-form-item",{attrs:{label:"IP：",prop:"vipIp"}},[e("el-input",{attrs:{placeholder:"示例：10.126.211.234 , 11.70.215.191, 11.60.217.127"},model:{value:t.specialConfigurationForm.vipIp,callback:function(i){t.$set(t.specialConfigurationForm,"vipIp","string"==typeof i?i.trim():i)},expression:"specialConfigurationForm.vipIp"}})],1)],1):t._e(),e("p",{staticClass:"special-configuration-content"},[t._v(" 3. 【商家系统】特殊配置： 是否绑定了京东物流网关域名SSL证书？ ")]),e("el-form-item",{attrs:{prop:"isDomainNameCertificate"}},[e("el-radio",{attrs:{label:!0},model:{value:t.specialConfigurationForm.isDomainNameCertificate,callback:function(i){t.$set(t.specialConfigurationForm,"isDomainNameCertificate",i)},expression:"specialConfigurationForm.isDomainNameCertificate"}},[t._v("是")]),e("el-radio",{attrs:{label:!1},model:{value:t.specialConfigurationForm.isDomainNameCertificate,callback:function(i){t.$set(t.specialConfigurationForm,"isDomainNameCertificate",i)},expression:"specialConfigurationForm.isDomainNameCertificate"}},[t._v("否")])],1),e("p",{staticClass:"special-configuration-content"},[t._v(" 4. 【京东物流网关】特殊配置：是否配置了商家IP白名单？ ")]),e("el-form-item",{attrs:{prop:"isIpWhitelist"}},[e("el-radio",{attrs:{label:!0},model:{value:t.specialConfigurationForm.isIpWhitelist,callback:function(i){t.$set(t.specialConfigurationForm,"isIpWhitelist",i)},expression:"specialConfigurationForm.isIpWhitelist"}},[t._v("是")]),e("el-radio",{attrs:{label:!1},model:{value:t.specialConfigurationForm.isIpWhitelist,callback:function(i){t.$set(t.specialConfigurationForm,"isIpWhitelist",i)},expression:"specialConfigurationForm.isIpWhitelist"}},[t._v("否")])],1)],1),e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{on:{click:t.previousStep}},[t._v("上一步")]),e("el-button",{attrs:{type:"primary"},on:{click:t.updateMerchant}},[t._v("下一步")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.active,expression:"active === 2"}],staticClass:"finish-wrapper"},[e("i",{staticClass:"el-icon-success"}),e("p",{staticClass:"finish-title"},[t._v(" 商家信息编辑完成，商家编码："+t._s(t.code)+"，商家名称："+t._s(t.name)+" ")])])])],1)],1):t._e()}),[],!1,null,"37d6fa48",null);i.default=u.exports},"1c72":function(t,i,e){"use strict";var a=e("7aef"),s=e("b775"),o={isExistMerchant:function(t){var i={url:"/merchant/isExistMerchant/".concat(t),method:"get",code:t};return Object(a.a)(i)},isCorrectBusinessCode:function(t){var i={url:"/merchant/isCorrectBusinessCode",method:"get",params:t};return Object(a.a)(i)},createMerchant:function(t){return s.a.post("/merchant/createMerchant",t)},echoMerchant:function(t){return s.a.get("/merchant/selectMerchant/".concat(t))},updateMerchant:function(t){return s.a.post("/merchant/updateMerchant",t)}};i.a=o},"3d85":function(t,i,e){"use strict";var a=(e("c5f6"),{name:"Steps",props:{titleList:{type:Array,default:function(){return[]}},active:{type:Number,required:!0}}}),s=(e("e75f"),e("2877")),o=Object(s.a)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("el-steps",{staticClass:"steps",attrs:{active:t.active,"align-center":!0,"finish-status":"success"}},t._l(t.titleList,(function(t,i){return e("el-step",{key:i,attrs:{title:t}})})),1)}),[],!1,null,"443b202a",null);i.a=o.exports},"7c75":function(t,i,e){},"9f9e":function(t,i,e){},b378:function(t,i,e){"use strict";e("7c75")},e75f:function(t,i,e){"use strict";e("9f9e")}}]);