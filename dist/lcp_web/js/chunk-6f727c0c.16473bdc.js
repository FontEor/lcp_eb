(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6f727c0c"],{"0cff":function(t,e,a){"use strict";a.r(e);var s=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header_contain"},[s("img",{staticClass:"header_img",attrs:{src:a("8d6c"),alt:""}}),s("span",{staticClass:"header_span"},[t._v("可联调流程")])])}],n=a("c7eb"),i=(a("96cf"),a("1da1")),o=(a("7f7f"),a("78dc")),r=a("3cfb"),c=a("d6d97"),l=a("a78e"),d=a.n(l),h=(a("ac6a"),a("97fd")),f=a("5728"),u={name:"flowchartReadOnly",props:["processCode"],data:function(){return{templateAll:h.a,templateChild1:h.b,templateChild2:h.c,templateChild3:h.d,templateData:{},graph:{}}},computed:{},methods:{handleTemplate:function(t){switch(this.templateData={},t){case"sandbox_kuaidi_all":this.templateData=this.templateAll;break;case"sandbox_kuaidi_child1":this.templateData=this.templateChild1;break;case"sandbox_kuaidi_child2":this.templateData=this.templateChild2;break;case"sandbox_kuaidi_child3":this.templateData=this.templateChild3}},handleNodes:function(t){var e=[],s={width:90,height:40,shape:"image",imageUrl:a("857c"),attrs:{label:{fill:"#3C6EF0",fontSize:13}},zIndex:5},n={width:116,height:40,shape:"image",imageUrl:a("a1b1"),attrs:{label:{fill:"#3C6EF0",fontSize:13}},zIndex:5};return t.forEach((function(t){1===t.bgState?Object.assign(t,n):Object.assign(t,s),e.push(t)})),e},handleEdges:function(t){var e=[],a={connector:{name:"rounded"},markup:[{tagName:"path",selector:"stroke"},{tagName:"path",selector:"fill"}],attrs:{fill:{connection:!0,strokeWidth:6,strokeLinecap:"round",fill:"none",stroke:{type:"linearGradient",stops:[{offset:"0%",color:"#B7D0FF"},{offset:"100%",color:"#80A4FF"}]}},stroke:{fill:"none",stroke:"#9fbaf8",connection:!0,strokeWidth:1,strokeLinecap:"round"}}},s={connector:{name:"rounded"},markup:[{tagName:"path",selector:"stroke"},{tagName:"path",selector:"fill"}],attrs:{fill:{connection:!0,strokeWidth:6,strokeLinecap:"round",fill:"none",stroke:{type:"linearGradient",stops:[{offset:"0%",color:"#FFB7D6"},{offset:"100%",color:"#FF80A4"}]}},stroke:{fill:"none",stroke:"#FB4C8D",connection:!0,strokeWidth:1,strokeLinecap:"round"}}};return t.forEach((function(t){1===t.style?Object.assign(t,s):Object.assign(t,a),e.push(t)})),e},graphInit:function(){var t=this;this.handleTemplate(this.processCode),this.graph=new f.a({container:this.$refs.flowchart,height:this.$refs.flowchart.clientHeight,panning:!1,autoResize:!0,scaling:{min:0,max:1},interacting:function(t){}});var e={nodes:this.handleNodes(this.templateData.nodeList),edges:this.handleEdges(this.templateData.edgesList)};this.graph.fromJSON(e),this.graph.on("resize",(function(e){var a=e.width;e.height,t.graph.scale(a/1640+.05),t.graph.positionContent("left")})),this.graph.positionContent("left")}},mounted:function(){this.graphInit()}},p=u,m=(a("b718"),a("2877")),b=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowchart-wrap"},[a("div",{ref:"flowchart",staticClass:"flowchart",class:"sandbox_kuaidi_all"!==t.processCode?"small-height":""})])}),[],!1,null,"7dd030f1",null),C=b.exports,g=a("3266"),_={components:{flowchartReadOnly:C},mixins:[],data:function(){return{name:o.a.state.sandboxTableData.name,remark:o.a.state.sandboxTableData.remark,sceneCode:o.a.state.sandboxTableData.code,unitCode:o.a.state.sandboxTableData.unitCode,user_pin:r.a.getters.user_pin,flowData:[],clstags:{sandbox_kuaidi_all:"SandBoxTool_1693313320392|5",sandbox_kuaidi_child1:"SandBoxTool_1693313320392|6",sandbox_kuaidi_child2:"SandBoxTool_1693313320392|7",sandbox_kuaidi_child3:"SandBoxTool_1693313320392|8"}}},created:function(){this.findBySceneCode()},methods:{clstag:function(t,e){return Object(g.a)(t,e)},handleStart:function(t){this.$router.push({name:"commonInfo",query:{process:t}})},findBySceneCode:function(){var t=Object(i.a)(Object(n.a)().mark((function t(){var e,a=this;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={sceneCode:this.sceneCode,bindIdaasPin:this.user_pin,bindSupplierCode:d.a.get("groupCode"),unitCode:this.unitCode},t.next=3,c.a.findBySceneCode(e).then((function(t){t.isBindWayBillCode?a.$router.push({name:"commonInfo",query:{process:t.bindProcessCode}}):a.flowData=t.sandboxSceneSupplierData,o.a.commit("setWayBillCode",t.bindWaybillCode),o.a.commit("setOrderCode",t.bindOrderCode)})).catch((function(t){throw new Error(t,"findBySceneCode")}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}},k=_,w=(a("d7e8"),Object(m.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tit-view"},[a("h2",{staticClass:"big-tit"},[t._v(t._s(t.name))]),a("p",{staticClass:"tip"},[t._v(t._s(t.remark))])]),a("div",{staticClass:"my-tabs"},[t._m(0),t._l(t.flowData,(function(e){return a("div",{key:e.processCode,staticClass:"flow-box"},[a("div",{staticClass:"flow-box-hd"},[a("h3",{staticClass:"tit"},[t._v(t._s(e.processName))]),a("el-button",{staticClass:"text-btn",attrs:{type:"text",clstag:t.clstag("",t.clstags[e.processCode])},on:{click:function(a){return t.handleStart(e.processCode)}}},[t._v("开始联调")])],1),a("div",{staticClass:"flow-box-bd"},[a("flowchartReadOnly",{attrs:{processCode:e.processCode}})],1)])}))],2)])}),s,!1,null,"26e8a37e",null));e.default=w.exports},"6bdc":function(t,e,a){},b718:function(t,e,a){"use strict";a("6bdc")},d7e8:function(t,e,a){"use strict";a("dea0")},dea0:function(t,e,a){}}]);