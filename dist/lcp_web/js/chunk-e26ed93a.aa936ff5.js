(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e26ed93a"],{6637:function(e,t,a){},"6ea4":function(e,t,a){"use strict";var s=(a("c5f6"),{name:"steps",props:{active:{required:!0,type:Number},title:{required:!1,type:String},tiptitle:{required:!0,type:Array}}}),r=(a("e7be"),a("2877")),i=Object(r.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.title?a("h2",{staticClass:"com-tit-mini"},[e._v(e._s(e.title))]):e._e(),a("div",{staticClass:"my-step-bar"},[a("el-steps",{staticClass:"my-steps",attrs:{active:e.active,"finish-status":"success","align-center":""}},e._l(e.tiptitle,(function(e,t){return a("el-step",{key:t,attrs:{title:e}})})),1)],1)])}),[],!1,null,"16bbb482",null);t.a=i.exports},8438:function(e,t,a){},"8ad9":function(e,t,a){},b3e8:function(e,t,a){"use strict";a.r(t);var s=a("6ea4"),r=a("c7eb"),i=(a("96cf"),a("1da1")),p=a("b775"),n={name:"SelectAppType",data:function(){return{table:[{authType:3,type:this.$t("createApp.selectAppType.5ix5uebrisc3"),desc:this.$t("createApp.selectAppType.5ix5uebrifk0"),status:!1},{authType:4,type:this.$t("createApp.selectAppType.5ix5uebrij40"),desc:this.$t("createApp.selectAppType.5ix5uebrim00"),status:!1},{authType:5,type:this.$t("createApp.selectAppType.5ix5uebrip00"),desc:this.$t("createApp.selectAppType.5ix5uebrisc0"),status:!1}],loading:!1}},methods:{getAuthData:function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t,a,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/user/getAuth","get",e.next=4,Object(p.a)({url:"/user/getAuth",method:"get"}).catch((function(e){throw e}));case 4:if(2e4!==(t=e.sent).code){e.next=19;break}a=0;case 7:if(!(a<t.data.length)){e.next=19;break}s=0;case 9:if(!(s<this.table.length)){e.next=16;break}if(t.data[a].authType!==this.table[s].authType){e.next=13;break}return this.table[s].status=t.data[a].status,e.abrupt("break",16);case 13:s++,e.next=9;break;case 16:a++,e.next=7;break;case 19:this.loading=!1;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),isDisabled:function(e){return!e},fillAppMessage:function(e){this.$emit("transferAuthType",e),this.$emit("next")},goQualificationManagement:function(){this.$router.push({path:"/qualificationManagement"})}},mounted:function(){this.getAuthData()}},c=n,o=(a("bc7a"),a("2877")),l=Object(o.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select-app-type"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.table,"header-cell-style":{"text-align":"left"}}},[a("el-table-column",{attrs:{label:e.$t("createApp.selectAppType.5ix5uebrh4c0"),"min-width":"2",prop:"type",align:"left"}}),a("el-table-column",{attrs:{label:e.$t("createApp.selectAppType.5ix5uebrhqs0"),"min-width":"4",prop:"desc",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[3===s.authType?a("span",[e._v(e._s(e.$t("createApp.selectAppType.5ix5uebrhw00"))),a("el-button",{attrs:{type:"text"},on:{click:e.goQualificationManagement}},[e._v(e._s(e.$t("createApp.selectAppType.5ix5uebrisc1")))]),e._v("】"+e._s(e.$t("createApp.selectAppType.5ix5uebrisc2")))],1):e._e(),4===s.authType?a("span",[e._v(e._s(e.$t("createApp.selectAppType.5ix5uebrhw00"))),a("el-button",{attrs:{type:"text"},on:{click:e.goQualificationManagement}},[e._v(e._s(e.$t("createApp.selectAppType.5ix5uebrhz80")))]),e._v("】"+e._s(e.$t("createApp.selectAppType.5ix5uebrisc2")))],1):e._e(),5===s.authType?a("span",[e._v(e._s(e.$t("createApp.selectAppType.5ix5uebrhw00"))),a("el-button",{attrs:{type:"text"},on:{click:e.goQualificationManagement}},[e._v(e._s(e.$t("createApp.selectAppType.5ix5uebri2g0")))]),e._v("】"+e._s(e.$t("createApp.selectAppType.5ix5uebrisc2")))],1):e._e()]}}])}),a("el-table-column",{attrs:{label:e.$t("createApp.selectAppType.5ix5uebri740"),"min-width":"2",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",[a("el-button",{attrs:{type:"text",disabled:e.isDisabled(s.status)},on:{click:function(t){return e.fillAppMessage(s.authType)}}},[e._v(e._s(e.$t("createApp.selectAppType.5ix5uebriaw0")))])],1)]}}])})],1)],1)}),[],!1,null,"731f0ebb",null),u=l.exports,m=(a("7f7f"),a("c5f6"),{name:"FillInInfo",props:{authType:Number},data:function(){return{submitDebounceTimer:null,submitLoading:!1,form:{systemSource:"lcp",name:"",remark:"",code:"",gatewaySecret:"",JOSName:""},rules:{name:[{required:!0,message:this.$t("createApp.appMessage.5ix5y55uhqg0"),trigger:"blur"},{min:2,max:20,message:this.$t("createApp.appMessage.5ix5y55uhtw0"),trigger:"change"}],remark:[{required:!0,message:this.$t("createApp.appMessage.5ix5y55uhy40"),trigger:"blur"},{min:10,max:200,message:this.$t("createApp.appMessage.5ix5y55ui1w0"),trigger:"blur"}],gatewaySecret:[{required:!0,message:"请输入JOS应用AppSecret",trigger:"blur"},{min:1,max:50,message:"最大不能超过50个字符",trigger:"blur"}],code:[{required:!0,message:"请输入JOS应用AppKey",trigger:"blur"},{min:1,max:50,message:"最大不能超过50个字符",trigger:"blur"}],JOSName:[{required:!0,message:"请输入JOS应用名称",trigger:"blur"},{min:1,max:100,message:"最大不能超过100个字符",trigger:"blur"}]}}},methods:{resetForm:function(e){this.$refs[e].resetFields()},previous:function(){this.$emit("previous")},onSubmit:function(){var e=this;clearTimeout(this.submitDebounceTimer),this.submitDebounceTimer=setTimeout((function(){e.$refs.form.validate((function(t){if(!t)return!1;e.form.type=e.authType,e.submitLoading=!0;var a={};"lcp"===e.form.systemSource?Object.assign(a,{type:e.form.type,name:e.form.name,remark:e.form.remark,systemSource:e.form.systemSource}):Object.assign(a,{type:e.form.type,name:e.form.JOSName,gatewaySecret:e.form.gatewaySecret,systemSource:e.form.systemSource,code:e.form.code,remark:"新功能,jdos应用导入功能相关数据。"}),Object(p.a)({url:"/app/addAppInfo",method:"post",params:a}).then((function(t){2e4===t.code&&(e.$emit("transferAppId",t.data),e.$emit("next")),e.submitLoading=!1})).catch((function(t){e.submitLoading=!1}))}))}),300)}},mounted:function(){this.authType}}),f=m,h=(a("f52b"),Object(o.a)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fill-in-info"},[4!==e.authType?a("div",[a("div",{staticStyle:{"text-align":"center",padding:"0 50px","margin-bottom":"60px",color:"#666666"}},[e._v(" "+e._s(e.$t("createApp.appMessage.5ix5y55ugig0"))+" ")])]):e._e(),4===e.authType&&"jos"===e.form.systemSource?a("div",[a("div",{staticStyle:{"margin-bottom":"4rem",color:"#666666","margin-left":"-4rem"}},[e._v(" 请输入您在JOS平台创建的应用信息，我们将同步JOS的应用信息到物流开放平台。若无JOS应用，【创建方式】请选择【在开放平台新建】。 ")])]):e._e(),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px",rules:e.rules}},[4===e.authType?a("el-form-item",[a("template",{slot:"label"},[a("span",[e._v(" 创建方式 "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"若您在宙斯平台有应用，可将您在宙斯平台创建的应用信息同步到物流开放平台。",placement:"top"}},[a("i",{staticClass:"el-icon-info"})]),e._v(":")],1)]),a("el-radio-group",{on:{change:function(t){return e.resetForm("form")}},model:{value:e.form.systemSource,callback:function(t){e.$set(e.form,"systemSource",t)},expression:"form.systemSource"}},[a("el-radio",{attrs:{label:"lcp"}},[e._v("在开放平台新建")]),a("el-radio",{attrs:{label:"jos"}},[e._v("从宙斯导入")])],1)],2):e._e(),"lcp"===e.form.systemSource?a("div",[a("el-form-item",{attrs:{label:e.$t("createApp.appMessage.5ix5y55ui1w1"),prop:"name"}},[a("div",[a("el-input",{staticClass:"el-input",attrs:{placeholder:e.$t("createApp.appMessage.5ix5y55ui1w2")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)]),a("el-form-item",{attrs:{label:e.$t("createApp.appMessage.5ix5y55ui1w3"),prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:e.$t("createApp.appMessage.5ix5y55ui1w4")},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1):a("div",[a("el-form-item",{attrs:{label:"JOS应用AppKey:",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入JOS平台应用的AppKey。"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code","string"==typeof t?t.trim():t)},expression:"form.code"}})],1),a("el-form-item",{attrs:{label:"JOS应用名称:",prop:"JOSName"}},[a("el-input",{attrs:{placeholder:"请输入JOS平台应用的应用名称。"},model:{value:e.form.JOSName,callback:function(t){e.$set(e.form,"JOSName","string"==typeof t?t.trim():t)},expression:"form.JOSName"}})],1),a("el-form-item",{attrs:{label:"JOS应用AppSecret:",prop:"gatewaySecret"}},[a("el-input",{attrs:{placeholder:"请输入JOS平台应用的AppSecret。"},model:{value:e.form.gatewaySecret,callback:function(t){e.$set(e.form,"gatewaySecret","string"==typeof t?t.trim():t)},expression:"form.gatewaySecret"}})],1)],1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:e.previous}},[e._v(e._s(e.$t("createApp.appMessage.5ix5y55uh740")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("createApp.appMessage.5ix5y55uhd00")))])],1)],1)],1)}),[],!1,null,"22a960bc",null)),d=h.exports,b={name:"Finish",props:{appId:Number},data:function(){return{time:3,intervalID:""}},methods:{appOpenBiz:function(){this.$router.push({name:"AppManagerAppTabs",params:{id:this.appId},query:{tabName:"DockingScheme"}})}},created:function(){this.appId;var e=this;e.intervalID=window.setInterval((function(){e.time--,e.time,e.time<=0&&(clearInterval(e.intervalID),e.appOpenBiz())}),1e3)}},y=b,x=(a("b8ac"),Object(o.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"entryFormBox tc"},[e._m(0),a("h3",[e._v(e._s(e.$t("createApp.finish.5ix616jnf000")))]),a("p",{staticClass:"txtC",staticStyle:{"text-align":"center","margin-bottom":"50px"}},[a("span",{staticClass:"primary"},[e._v(e._s(e.time)+"s")]),e._v(" "+e._s(e.$t("createApp.finish.5ix616jnfn40"))+" ")]),a("el-row",{staticClass:"txtC",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.appOpenBiz}},[e._v(e._s(e.$t("createApp.finish.5ix616jnfs80")))])],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"entrySuccess"},[t("i",{staticClass:"el-icon-success"})])}],!1,null,"f02b9728",null)),g=x.exports,A={name:"CreateApp",components:{steps:s.a,SelectAppType:u,FillInInfo:d,Finish:g},data:function(){return{stepsObj:{},stepsList:[{active:0,title:this.$t("createApp.index.5ix5trx3xts0"),tiptitle:[this.$t("createApp.index.5ix5trx3yj40"),this.$t("createApp.index.5ix5trx3ynw0"),this.$t("createApp.index.5ix5trx3yro0")]},{active:1,title:this.$t("createApp.index.5ix5trx3xts0"),tiptitle:[this.$t("createApp.index.5ix5trx3yj40"),this.$t("createApp.index.5ix5trx3ynw0"),this.$t("createApp.index.5ix5trx3yro0")]},{active:2,title:this.$t("createApp.index.5ix5trx3xts0"),tiptitle:[this.$t("createApp.index.5ix5trx3yj40"),this.$t("createApp.index.5ix5trx3ynw0"),this.$t("createApp.index.5ix5trx3yro0")]}],progress:0,authType:-1,appId:-1}},methods:{previous:function(){this.progress>0&&(this.progress--,this.stepsObj=this.stepsList[this.progress])},next:function(){this.progress<2&&(this.progress++,this.stepsObj=this.stepsList[this.progress])},transferAuthType:function(e){this.authType=e},transferAppId:function(e){this.appId=e}},created:function(){this.stepsObj=this.stepsList[this.progress],this.stepsObj}},v=A,_=Object(o.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("steps",e._b({},"steps",e.stepsObj,!1)),0===e.progress?a("SelectAppType",{attrs:{authType:e.authType},on:{next:e.next,transferAuthType:e.transferAuthType}}):e._e(),1===e.progress?a("FillInInfo",{attrs:{authType:e.authType},on:{previous:e.previous,next:e.next,transferAppId:e.transferAppId}}):e._e(),2===e.progress?a("Finish",{attrs:{appId:e.appId}}):e._e()],1)}),[],!1,null,"110638d6",null);t.default=_.exports},b8ac:function(e,t,a){"use strict";a("8438")},bc7a:function(e,t,a){"use strict";a("8ad9")},d6a5:function(e,t,a){},e7be:function(e,t,a){"use strict";a("d6a5")},f52b:function(e,t,a){"use strict";a("6637")}}]);