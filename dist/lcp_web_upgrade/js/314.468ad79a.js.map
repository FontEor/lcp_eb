{"version":3,"file":"js/314.468ad79a.js","mappings":"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","sources":["webpack://lcp_web_upgrade/./src/views/extranet/work-order/components/left-search/index.vue?7f60","webpack://lcp_web_upgrade/./src/views/extranet/work-order/components/left-search/index.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withKeys as _withKeys, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-27cf8517\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"left-search\" }\nconst _hoisted_2 = { class: \"left-search__header\" }\nconst _hoisted_3 = { class: \"header__heading\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", { class: \"heading__text\" }, \"工单管理\", -1))\nconst _hoisted_5 = { class: \"left-search__controls\" }\nconst _hoisted_6 = { class: \"controls__upper-layer\" }\nconst _hoisted_7 = { class: \"controls__under-layer\" }\n\nimport { ref, onMounted } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { workOrderApi } from \"@/api/extranet/index\";\nimport { WorkOrder } from \"@/types/api/extranet/work-order\";\nimport { CascaderProps } from \"element-plus\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    workOrderNumber: null,\n    status: null,\n    workOrderTypeCode: null,\n    timeRange: null\n  },\n  emits: [\n  \"update:workOrderNumber\",\n  \"update:status\",\n  \"update:workOrderTypeCode\",\n  \"update:timeRange\",\n  \"fetchList\",\n],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\n  workOrderNumber: string;\n  status?: number;\n  workOrderTypeCode: string | null;\n  timeRange: [string, string] | null;\n};\n\n\n\n\n\nconst router = useRouter();\n\n// 常量\nconst statusOptionList = [\n  { label: \"全部\", value: 0 },\n  { label: \"待处理\", value: 1 },\n  { label: \"处理中\", value: 2 },\n  { label: \"已关闭\", value: 3 },\n];\nconst workOrderTypeCodeProps: CascaderProps = {\n  label: \"typeName\",\n  value: \"code\",\n  emitPath: false,\n};\nconst timeRangeShortcuts = [\n  {\n    text: \"最近一周\",\n    value: () => {\n      const end = new Date();\n      const start = new Date();\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n      return [start, end];\n    },\n  },\n  {\n    text: \"最近一个月\",\n    value: () => {\n      const end = new Date();\n      const start = new Date();\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n      return [start, end];\n    },\n  },\n  {\n    text: \"最近三个月\",\n    value: () => {\n      const end = new Date();\n      const start = new Date();\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n      return [start, end];\n    },\n  },\n];\n\n// 响应式对象\nconst workOrderTypeCodeOptions = ref<WorkOrder.FetchTypeListResponse>([]);\nconst timeRange = ref<[string, string]>([\"\", \"\"]);\n\n// 接口调用传参\n// 查询工单类型列表接口\nasync function fetchWorkOrderTypeList() {\n  return await workOrderApi.fetchTypeList();\n}\n\n// 接口调用取值\n// 查询工单类型列表操作\nasync function handleFetchWorkOrderTypeList() {\n  const data = await fetchWorkOrderTypeList().catch((error) => {\n    console.error(\"handleFetchWorkOrderTypeList\");\n    throw error;\n  });\n  workOrderTypeCodeOptions.value = Array.isArray(data) ? data : [];\n}\n\n// 事件监听\nfunction onClickNewWorkOrderButton() {\n  const name = \"NewWorkOrder\";\n  router.push({ name });\n}\nfunction onKeyupEnterWorkOrderNumberInput() {\n  emit(\"fetchList\", 1);\n}\nfunction onChangeStatusSelect(value?: number) {\n  emit(\"update:status\", value);\n  emit(\"fetchList\", 1);\n}\nfunction onChangeWorkOrderTypeCodeCascader(value: string | null) {\n  emit(\"update:workOrderTypeCode\", value);\n  emit(\"fetchList\", 1);\n}\nfunction onChangeTimeRangeDatePicker(value: [string, string] | null) {\n  emit(\"update:timeRange\", value);\n  emit(\"fetchList\", 1);\n}\n\nonMounted(async () => {\n  await handleFetchWorkOrderTypeList();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_List = _resolveComponent(\"List\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_cascader = _resolveComponent(\"el-cascader\")!\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"header\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(_component_el_icon, {\n          size: 16,\n          color: \"#3c6ef0\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_List)\n          ]),\n          _: 1\n        }),\n        _hoisted_4\n      ]),\n      _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: onClickNewWorkOrderButton\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"新建工单\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(_component_el_input, {\n          \"model-value\": props.workOrderNumber,\n          clearable: \"\",\n          placeholder: \"请输入工单号\",\n          \"prefix-icon\": \"Search\",\n          onInput: _cache[0] || (_cache[0] = ($event) => _ctx.$emit('update:workOrderNumber', $event)),\n          onKeyup: _withKeys(onKeyupEnterWorkOrderNumberInput, [\"enter\"])\n        }, null, 8, [\"model-value\", \"onKeyup\"]),\n        _createVNode(_component_el_select, {\n          \"model-value\": props.status,\n          clearable: \"\",\n          placeholder: \"状态\",\n          class: \"upper-layer__status-select\",\n          onClear: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('update:status'))),\n          onChange: onChangeStatusSelect\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(statusOptionList, ({ label, value }) => {\n              return _createVNode(_component_el_option, {\n                key: value,\n                label: label,\n                value: value\n              }, null, 8, [\"label\", \"value\"])\n            }), 64))\n          ]),\n          _: 1\n        }, 8, [\"model-value\"]),\n        _createVNode(_component_el_cascader, {\n          \"model-value\": props.workOrderTypeCode,\n          options: workOrderTypeCodeOptions.value,\n          props: workOrderTypeCodeProps,\n          \"show-all-levels\": false,\n          filterable: \"\",\n          clearable: \"\",\n          placeholder: \"类型\",\n          class: \"upper-layer__word-order-type-code-cascader\",\n          onChange: onChangeWorkOrderTypeCodeCascader\n        }, null, 8, [\"model-value\", \"options\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(_component_el_date_picker, {\n          modelValue: timeRange.value,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((timeRange).value = $event)),\n          shortcuts: timeRangeShortcuts,\n          clearable: \"\",\n          type: \"daterange\",\n          \"value-format\": \"YYYY-MM-DD HH:mm:ss\",\n          \"range-separator\": \"至\",\n          \"start-placeholder\": \"开始日期\",\n          \"end-placeholder\": \"结束日期\",\n          class: \"under-layer__time-range-date-picker\",\n          onChange: onChangeTimeRangeDatePicker\n        }, null, 8, [\"modelValue\"])\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=27cf8517&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/wulinxiu/Documents/projects/company/lcp-web/applications/lcp_web_upgrade/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-27cf8517\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","props","workOrderNumber","status","workOrderTypeCode","timeRange","emits","setup","__props","emit","router","useRouter","statusOptionList","label","value","workOrderTypeCodeProps","emitPath","timeRangeShortcuts","text","end","Date","start","setTime","getTime","workOrderTypeCodeOptions","ref","async","fetchWorkOrderTypeList","workOrderApi","handleFetchWorkOrderTypeList","data","catch","error","console","Array","isArray","onClickNewWorkOrderButton","name","push","onKeyupEnterWorkOrderNumberInput","onChangeStatusSelect","onChangeWorkOrderTypeCodeCascader","onChangeTimeRangeDatePicker","onMounted","_ctx","_cache","_component_List","_resolveComponent","_component_el_icon","_component_el_button","_component_el_input","_component_el_option","_component_el_select","_component_el_cascader","_component_el_date_picker","_openBlock","_createElementBlock","_createVNode","size","color","default","_withCtx","_","type","onClick","_createTextVNode","clearable","placeholder","onInput","$event","$emit","onKeyup","_withKeys","onClear","onChange","_Fragment","_renderList","key","options","filterable","modelValue","shortcuts","__exports__"],"sourceRoot":""}