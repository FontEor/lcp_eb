"use strict";(self["webpackChunklcp_web_upgrade"]=self["webpackChunklcp_web_upgrade"]||[]).push([[971],{2971:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(7658);var n=a(3396),l=a(4870),i=a(7139),u=a(2483),o=a(8137),r=a(2748);const s={class:"work-order-type"},c={class:"main-breadcrumb"},d={class:"main-question-list"},p={class:"list-container"},w={class:"item-title"},m=["onClick"],_={class:"title-view"},v={class:"item-content"},g={class:"work-order-type__footer"},f={class:"footer__button"};var h=(0,n.aZ)({__name:"index",emits:["update:workOrderTypeCode","update:active"],setup(e,{emit:t}){const h=(0,n.RC)((()=>a.e(678).then(a.bind(a,1678)))),k=(0,u.tv)(),y=(0,u.yj)();let b=(0,l.qj)([]),U=(0,l.iH)(""),S=(0,l.iH)([]),C=(0,l.iH)([]),z=(0,l.iH)(0),H=(0,l.iH)(1),W=(0,l.iH)(10),j=(0,l.iH)(""),q=(0,l.iH)("");const O=()=>{t("update:active",2)},x=()=>{const e="WorkOrder";k.push({name:e})};async function D(e=null){const t=await o.i.fetchTypeList().catch((e=>{throw e}));Object.assign(b,t||[]),N(b,e)}const T=async e=>{j.value=e;const t={pageSize:W.value,pageNumb:H.value},{list:a,total:n}=await o.i.fetchProblemRetrieval({params:t,workOrderTypeCode:j.value}).catch((e=>{throw new Error("queryProblemList"+e)}));C.value=a,z.value=n},L=(e,a=null)=>e.some((e=>{const{code:n,children:l}=e;return l&&l.length>0?L(l,a):n===P&&(U.value=n,q.value=n,T(n),Y(b,n),t("update:workOrderTypeCode",n),!0)}));async function N(e,a=null){if(a){if(Array.isArray(a)){const[e]=a;a=e}const t=L(e,a);if(t)return}e.some((e=>{const{code:a,children:n}=e;return n&&n.length>0?N(n):(U.value=a,q.value=a,T(a),Y(b,a),t("update:workOrderTypeCode",a),!0)}))}function Y(e,t){let a=[];return e.forEach((e=>{const{children:n,code:l}=e;if(l===t)a.push(e);else if(n&&n.length>0){let l=Y(n,t);l.length&&(a=[e,...l])}})),S.value=a,a}const A=e=>{Y(b,e),q.value=e,T(e),t("update:workOrderTypeCode",e)};function K(e){const t=`http://${window.location.host}/#/question-docs/${j.value}/${e}`;window.open(t,"_blank")}const{typeCode:P}=y.query;return D(P),(e,t)=>{const a=(0,n.up)("el-sub-menu"),u=(0,n.up)("el-menu-item"),o=(0,n.up)("el-menu"),k=(0,n.up)("el-scrollbar"),y=(0,n.up)("el-aside"),j=(0,n.up)("el-breadcrumb-item"),D=(0,n.up)("el-breadcrumb"),L=(0,n.up)("el-pagination"),N=(0,n.up)("el-main"),Y=(0,n.up)("el-container"),P=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(Y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{class:"container-aside"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(o,{class:"aside-menu__menu","default-active":(0,l.SU)(U),onSelect:A},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(b),((e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[e.children?((0,n.wg)(),(0,n.j4)(a,{key:0,index:e.code,class:"menu__outer-submenu"},{title:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.typeName),1)])),default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(h),{menuList:e.children},null,8,["menuList"])])),_:2},1032,["index"])):((0,n.wg)(),(0,n.j4)(u,{key:1,index:e.code,class:"menu__outer-menu-item"},{title:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.typeName),1)])),_:2},1032,["index"]))],64)))),128))])),_:1},8,["default-active"])])),_:1})])),_:1}),(0,n.Wm)(N,{class:"container-main"},{default:(0,n.w5)((()=>[(0,n._)("div",c,[(0,n.Wm)(D,{"separator-class":(0,l.SU)(r.ArrowRight)},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(S),(e=>((0,n.wg)(),(0,n.j4)(j,{key:e.code},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.typeName),1)])),_:2},1024)))),128))])),_:1},8,["separator-class"])]),(0,n._)("div",d,[(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(C),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"container-item",key:e.code},[(0,n._)("div",w,[(0,n._)("h1",{onClick:t=>K(e.code)},(0,i.zw)(e.title),9,m),(0,n._)("div",_,"浏览量 "+(0,i.zw)(e.views),1)]),(0,n._)("div",v,(0,i.zw)(e.content),1)])))),128))])]),(0,l.SU)(C)&&(0,l.SU)(C).length>0?((0,n.wg)(),(0,n.j4)(L,{key:0,class:"main-pagination","current-page":(0,l.SU)(H),"onUpdate:currentPage":t[0]||(t[0]=e=>(0,l.dq)(H)?H.value=e:H=e),"page-size":(0,l.SU)(W),"onUpdate:pageSize":t[1]||(t[1]=e=>(0,l.dq)(W)?W.value=e:W=e),"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper",total:(0,l.SU)(z),onSizeChange:t[2]||(t[2]=e=>T((0,l.SU)(q))),onCurrentChange:t[3]||(t[3]=e=>T((0,l.SU)(q)))},null,8,["current-page","page-size","total"])):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n._)("div",g,[(0,n._)("div",f,[(0,n.Wm)(P,{onClick:x},{default:(0,n.w5)((()=>[(0,n.Uk)("上一步")])),_:1}),(0,n.Wm)(P,{type:"primary",onClick:t[4]||(t[4]=e=>O())},{default:(0,n.w5)((()=>[(0,n.Uk)("继续填写工单")])),_:1})])])])}}}),k=a(89);const y=(0,k.Z)(h,[["__scopeId","data-v-5ac0d823"]]);var b=y}}]);
//# sourceMappingURL=971.faae796d.js.map