"use strict";(self["webpackChunklcp_web_upgrade"]=self["webpackChunklcp_web_upgrade"]||[]).push([[993],{2993:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});a(7658);var n=a(3396),i=a(4870),l=a(7139),u=a(2483),o=a(8137),s=a(2748);const c={class:"work-order-type"},r={class:"main-breadcrumb"},d={class:"main-question-list"},p={class:"list-container"},w={class:"item-title"},m=["onClick"],_={class:"title-view"},v={class:"item-content"},g={class:"work-order-type__footer"},f={class:"footer__button"};var k=(0,n.aZ)({__name:"index",emits:["update:workOrderTypeCode","update:active"],setup(e,{emit:t}){const k=(0,n.RC)((()=>a.e(678).then(a.bind(a,1678)))),h=(0,u.tv)();let b=(0,i.qj)([]),y=(0,i.iH)(""),U=(0,i.iH)([]),S=(0,i.iH)([]),C=(0,i.iH)(0),z=(0,i.iH)(1),H=(0,i.iH)(10),W=(0,i.iH)(""),j=(0,i.iH)("");const q=()=>{t("update:active",2)},x=()=>{const e="WorkOrder";h.push({name:e})};async function D(){const e=await o.i.fetchTypeList().catch((e=>{throw e}));Object.assign(b,e||[]),T(b)}const O=async e=>{W.value=e;const t={pageSize:H.value,pageNumb:z.value},{list:a,total:n}=await o.i.fetchProblemRetrieval({params:t,workOrderTypeCode:W.value}).catch((e=>{throw new Error("queryProblemList"+e)}));S.value=a,C.value=n};async function T(e){e.some((e=>{const{code:a,children:n}=e;return n&&n.length>0?T(n):(y.value=a,j.value=a,O(a),L(b,a),t("update:workOrderTypeCode",a),!0)}))}function L(e,t){let a=[];return e.forEach((e=>{const{children:n,code:i}=e;if(i===t)a.push(e);else if(n&&n.length>0){let i=L(n,t);i.length&&(a=[e,...i])}})),U.value=a,a}const N=e=>{L(b,e),j.value=e,O(e),t("update:workOrderTypeCode",e)};function Y(e){const t=`http://${window.location.host}/#/question-docs/${W.value}/${e}`;window.open(t,"_blank")}return(0,n.bv)((()=>{D()})),(e,t)=>{const a=(0,n.up)("el-sub-menu"),u=(0,n.up)("el-menu-item"),o=(0,n.up)("el-menu"),h=(0,n.up)("el-scrollbar"),W=(0,n.up)("el-aside"),D=(0,n.up)("el-breadcrumb-item"),T=(0,n.up)("el-breadcrumb"),L=(0,n.up)("el-pagination"),K=(0,n.up)("el-main"),P=(0,n.up)("el-container"),R=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W,{class:"container-aside"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(o,{class:"aside-menu__menu","default-active":(0,i.SU)(y),onSelect:N},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(b),((e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[e.children?((0,n.wg)(),(0,n.j4)(a,{key:0,index:e.code,class:"menu__outer-submenu"},{title:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.typeName),1)])),default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(k),{menuList:e.children},null,8,["menuList"])])),_:2},1032,["index"])):((0,n.wg)(),(0,n.j4)(u,{key:1,index:e.code,class:"menu__outer-menu-item"},{title:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.typeName),1)])),_:2},1032,["index"]))],64)))),128))])),_:1},8,["default-active"])])),_:1})])),_:1}),(0,n.Wm)(K,{class:"container-main"},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n.Wm)(T,{"separator-class":(0,i.SU)(s.ArrowRight)},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(U),(e=>((0,n.wg)(),(0,n.j4)(D,{key:e.code},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.typeName),1)])),_:2},1024)))),128))])),_:1},8,["separator-class"])]),(0,n._)("div",d,[(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(S),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"container-item",key:e.code},[(0,n._)("div",w,[(0,n._)("h1",{onClick:t=>Y(e.code)},(0,l.zw)(e.title),9,m),(0,n._)("div",_,"浏览量 "+(0,l.zw)(e.views),1)]),(0,n._)("div",v,(0,l.zw)(e.content),1)])))),128))])]),(0,i.SU)(S)&&(0,i.SU)(S).length>0?((0,n.wg)(),(0,n.j4)(L,{key:0,class:"main-pagination","current-page":(0,i.SU)(z),"onUpdate:currentPage":t[0]||(t[0]=e=>(0,i.dq)(z)?z.value=e:z=e),"page-size":(0,i.SU)(H),"onUpdate:pageSize":t[1]||(t[1]=e=>(0,i.dq)(H)?H.value=e:H=e),"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper",total:(0,i.SU)(C),onSizeChange:t[2]||(t[2]=e=>O((0,i.SU)(j))),onCurrentChange:t[3]||(t[3]=e=>O((0,i.SU)(j)))},null,8,["current-page","page-size","total"])):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n._)("div",g,[(0,n._)("div",f,[(0,n.Wm)(R,{onClick:x},{default:(0,n.w5)((()=>[(0,n.Uk)("上一步")])),_:1}),(0,n.Wm)(R,{type:"primary",onClick:t[4]||(t[4]=e=>q())},{default:(0,n.w5)((()=>[(0,n.Uk)("继续填写工单")])),_:1})])])])}}}),h=a(89);const b=(0,h.Z)(k,[["__scopeId","data-v-14e5befe"]]);var y=b}}]);
//# sourceMappingURL=993.69758972.js.map